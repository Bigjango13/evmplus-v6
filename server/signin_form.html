<script>
	function onSubmit (form) {
		fetch ('/api/signin', {
			credentials: "same-origin",
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/x-www-form-urlencodeds'
			},
			method: 'post',
			body: new FormData(form)
		}).then(res => {
			if (res.status >= 200 && res.status < 300) {
				return res;
			}
			let err = new Error(res.statusText);
			err.response = res;
			throw err;
		}).then(res => {
			return res.json();
		}).then(json => {
			parent.postMessage(json);
		}).catch(err => {
			
		});
	}
</script>
<form onsubmit="return onSubmit(this);" class="asyncForm">
	<label for="capid">CAP ID:</label>
	<input name="capid" id="capid" />
	
	<label for="password">Password:</label>
	<input name="password" id="password" />
	
	<input type="submit" value="submit" />
</form>